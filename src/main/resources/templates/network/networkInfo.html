<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create Event</title>
</head>
<body>
<form id="createEventForm" action="/network/createNetwork" method="post">
    <label for="eventName">Event Name:</label>
    <input type="text" id="eventName" name="eventName" th:value="${eventName}"><br>

    <label for="description">Description:</label>
    <input type="text" id="description" name="description" th:value="${description}"><br>

    <label for="dateTime">Date and Time:</label>
    <input type="datetime-local" id="dateTime" name="dateTime" th:value="${dateTime}"><br>

    <label for="maxParticipants">Max Participants:</label>
    <input type="number" id="maxParticipants" name="maxParticipants" th:value="${maxParticipants}"><br>

    <!-- Hidden fields to store selected event info -->
    <input type="hidden" id="selectedEventId" name="selectedEventId" th:value="${selectedEventId}">
    <input type="hidden" id="selectedEventName" name="selectedEventName" th:value="${selectedEventName}">

    <button type="button" onclick="window.location.href='/network/selectEvent?eventName=' + document.getElementById('eventName').value + '&description=' + document.getElementById('description').value + '&dateTime=' + document.getElementById('dateTime').value + '&maxParticipants=' + document.getElementById('maxParticipants').value">Select Event</button>
    <input type="submit" value="Create Event">
</form>

<div id="selectedEventInfo">
    <!-- 조건부 렌더링을 위한 JavaScript 사용 -->
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            var selectedEventName = document.getElementById('selectedEventName').value;
            if (selectedEventName) {
                var selectedEventInfoDiv = document.getElementById('selectedEventInfo');
                var p = document.createElement('p');
                p.textContent = 'Selected Event: ' + selectedEventName;
                selectedEventInfoDiv.appendChild(p);
            }
        });
    </script>
</div>
</body>
</html>
